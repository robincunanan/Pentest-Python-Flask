# Penetration Test Python Flask Framework

In this assignment this will demonstrate an attempt to break the Flask web framework by using internal, external, and black box testing. The scope of our goal will be to expose user or network design vulnerabilities such as Login, DNS, SSH, or in the Application build itself. The process will include the implementation of several effective tools from Parrot OS or Python Penetration Test scripts designed to discover and exploit any vulnerabilities in several web application running on Flask web framework. This report will include our discoveries and methods used to perform these penetration tests regardless of success or failure.

## Team Members

1. Robin Cunanan, Security Engineer II
2. Gabe Ustanik, Security Engineer II

## Prerequisites

The following Flask Application Frameworks were used and approved to pentest:

1. [Flask-Example by XD-DENG](https://github.com/XD-DENG/flask-example)
2. [CNA340_FinalProject by RTCedu](https://github.com/RTCedu/CNA340_FinalProject)

The following software is required:
1. [Python 3.5.3+](https://www.python.org/downloads/)
2. [PyCharm 2019.1.1+](https://www.jetbrains.com/pycharm/download/#section=windows)
3. [VirtualBox](https://www.virtualbox.org/wiki/Downloads)
4. [Parrot OS](https://www.parrotsec.org/download.php)

## Running
How to run Parrot OS and penetration test applications:

1. Install VirtualBox
2. Install Parrot OS on VirtualBox. Instructions by ceos3c tutorials can be found [here](https://www.youtube.com/watch?v=cvUfApENUUs).
3. Install Pycharm on Parrot OS. Instructions by Procodist can be found [here](https://www.youtube.com/watch?v=S_-sYa8RQUE).
4. Clone/Download required GitHub repository onto Parrot OS.
5. Run Flask Application and verify that url 127.0.0.1:5000 is working on browser. 
6. Run Python Scripts or Parrot OS security applications on Flask Application.

## Project Timeline

1. Setup VirtualBox with 2 Linux OS installed + Flask Web App (6/4/2019 - 6/8/2019)
2. Discover vulnerabilities with Linux security tools (6/8/2019 - 6/11/2019)
3. Implement penetration test from Liunx VirtualBox (6/11/2019 - 6/14/2019)
4. Write & present conclusory report of the results (6/14/2019 - 6/18/2019)

## Parrot OS security applications 

1. Xsser
2. OWASP ZAP
3. JoomScan
4. Clickjacking Tester
5. Fuzzer

## Vulnerability Analysis Results

Xsser: Cross Site “Scripter” (aka XSSer) is an automatic -framework- to detect, exploit and report XSS vulnerabilities in web-based applications. It contains several options to try to bypass certain filters, and various special techniques of code injection.
- Result: Both applications were not vulnerable to cross site tracking. Was not able to perform url, xsr, xsa, and cookies attacks. Concluded that the application was not able to find any vulnerability with 590 injections.

OWASP ZAP: The Zed Attack Proxy (ZAP) is an easy to use integrated penetration testing tool for finding vulnerabilities in web applications. It is designed to be used by people with a wide range of security experience and as such is ideal for developers and functional testers who are new to penetration testing. ZAP provides automated scanners as well as a set of tools that allow you to find security vulnerabilities manually.

Types of vulnerabilities ZAP tests for are:
- Personally Identifiable Information(PID)
- SQL Injection
- Cross-site request forgery(CSRF)
- Source Code Disclosure(SQL)
- Fuzzing
- ClickJacking
- Buffer/Integer overflow
- Application Error Disclosure
- HTTP parameter override
         
How to pentest the flask web application using vulnerability scan: 
1. Load main.py and database .py into pycharm and run.
2. From the Parrot Desktop go to: Applications>Parrot>Web-Application Analysis>owasp- zap
3. In the 'URL attack' bar type url 127.0.0.1:5000 and click 'attack'
    
- Result: Found commanilites in comparing our reports from two separate Slack web apps. Both reported vulnerabilities in these categories: 
1. xss 
2. x-content 
3. x-frame

JoomScan: OWASP JoomScan (short for [Joom]la Vulnerability [Scan]ner) is an opensource project in perl programming language to detect Joomla CMS vulnerabilities and analysis them.
- Result: Detected that both applications did not have an error log or firewall configured. 

Fuzzer: OWASP ZAP’s fuzzing attack allows you to attack the application itself to discover errors in the code. Several fuzzing types can be selected such as strings, numbers, files, and nulls.
- Result: implementing various fuzz techniques which resulted in several low risk informational alerts such as ‘method not allowed’.

## Acknowledgement
Thank you for viewing.
